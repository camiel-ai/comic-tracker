<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Collection Tracker</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#f5f0e8;--card:#fff;--owned:#4caf50;--wanted:#ff9800;--none:#ccc;--text:#333;--accent:#1a237e}
body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh}
header{background:var(--accent);color:#fff;padding:1rem;text-align:center;position:sticky;top:0;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.3)}
header h1{font-size:1.5rem;letter-spacing:1px}
.tabs{display:flex;overflow-x:auto;background:#283593;padding:0 .5rem;gap:2px}
.tabs button{background:none;border:none;color:rgba(255,255,255,.7);padding:.6rem 1rem;font-size:.85rem;white-space:nowrap;cursor:pointer;border-bottom:3px solid transparent;transition:.2s}
.tabs button.active{color:#fff;border-bottom-color:#ffab40;font-weight:600}
.tabs button:hover{color:#fff}
.progress-bar{background:#e0e0e0;height:8px;border-radius:4px;margin:1rem;overflow:hidden}
.progress-bar .fill{height:100%;border-radius:4px;transition:width .4s}
.stats{display:flex;justify-content:center;gap:1.5rem;padding:.5rem 1rem;font-size:.85rem;flex-wrap:wrap}
.stats span{display:flex;align-items:center;gap:4px}
.stats .dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:1rem;padding:1rem;max-width:1200px;margin:0 auto}
.album{background:var(--card);border-radius:8px;overflow:hidden;box-shadow:0 1px 4px rgba(0,0,0,.1);transition:transform .15s;cursor:pointer;position:relative}
.album:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}
.album .cover{width:100%;aspect-ratio:2/3;object-fit:cover;background:#ddd;display:flex;align-items:center;justify-content:center;font-size:2.5rem;color:#999;font-weight:700;position:relative;overflow:hidden}
.album .cover img{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:1}
.album .cover .fallback{position:relative;z-index:0}
.album .info{padding:.5rem;text-align:center}
.album .info .num{font-size:.75rem;color:#888}
.album .info .title{font-size:.8rem;font-weight:600;line-height:1.2;margin-top:2px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.album .badge{position:absolute;top:6px;right:6px;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.3)}
.album .badge.owned{background:var(--owned)}
.album .badge.wanted{background:var(--wanted)}
.menu{display:none;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);flex-direction:column;align-items:center;justify-content:center;gap:8px;z-index:10;border-radius:8px}
.album.showmenu .menu{display:flex}
.menu button{padding:8px 20px;border:none;border-radius:20px;font-size:.85rem;cursor:pointer;font-weight:600;min-width:120px}
.menu .btn-owned{background:var(--owned);color:#fff}
.menu .btn-wanted{background:var(--wanted);color:#fff}
.menu .btn-clear{background:#eee;color:#333}
.search-box{padding:.5rem 1rem}
.search-box input{width:100%;padding:.5rem .8rem;border:1px solid #ccc;border-radius:20px;font-size:.9rem;outline:none}
.search-box input:focus{border-color:var(--accent)}
</style>
</head>
<body>
<header><h1>ðŸ“š Comic Collection Tracker</h1></header>
<div class="tabs" id="tabs"></div>
<div class="stats" id="stats"></div>
<div class="progress-bar"><div class="fill" id="progressFill"></div></div>
<div class="search-box"><input type="text" id="search" placeholder="Search albums..."></div>
<div class="grid" id="grid"></div>

<script>
const SERIES = {
"Asterix": [
{n:1,t:"Asterix de GalliÃ«r"},{n:2,t:"Het Gouden Snoeimes"},{n:3,t:"Asterix en de Goten"},{n:4,t:"Asterix als Gladiator"},{n:5,t:"De Ronde van GalliÃ«"},
{n:6,t:"Asterix en Cleopatra"},{n:7,t:"Het Gevecht van de Hoofdmannen"},{n:8,t:"Asterix bij de Britten"},{n:9,t:"Asterix en de Noormannen"},{n:10,t:"Asterix als Legioensoldaat"},
{n:11,t:"Het Schild van Arvansen"},{n:12,t:"Asterix en de Olympische Spelen"},{n:13,t:"Asterix en de Koperen Ketel"},{n:14,t:"Asterix in Hispania"},{n:15,t:"Twist bij de Belgen"},
{n:16,t:"Asterix bij de HelvetiÃ«rs"},{n:17,t:"De Lauwerkrans van Caesar"},{n:18,t:"De Odyssee van Asterix"},{n:19,t:"Asterix en de Ziener"},{n:20,t:"Asterix op Corsica"},
{n:21,t:"De Gave van Caesar"},{n:22,t:"De Grote Oversteek"},{n:23,t:"Obelix en Co."},{n:24,t:"Asterix bij de Belgen"},{n:25,t:"De Grote Kloof"},
{n:26,t:"De Odyssee van Asterix"},{n:27,t:"De Zoon van Asterix"},{n:28,t:"Asterix en Maestria"},{n:29,t:"De Roos en het Zwaard"},{n:30,t:"De Beproeving van Obelix"},
{n:31,t:"Asterix en Latraviata"},{n:32,t:"Asterix en de Terugreis"},{n:33,t:"GalliÃ« valt op zijn kop"},{n:34,t:"De Verjaardag van Asterix & Obelix"},{n:35,t:"Asterix bij de Picten"},
{n:36,t:"De Papyrus van Caesar"},{n:37,t:"Asterix in ItaliÃ«"},{n:38,t:"De Dochter van de Veldheer"},{n:39,t:"Asterix en de Griffioen"},{n:40,t:"De Witte Iris"}
],
"Buck Danny": [
{n:1,t:"De Jappen vallen aan"},{n:2,t:"De geheimen van Midway"},{n:3,t:"De zonen des hemels"},{n:4,t:"De vliegende tijgers"},{n:5,t:"De zwarte draak"},{n:6,t:"Aanval in Birma"},{n:7,t:"De smokkelaars van de Rode Zee"},{n:8,t:"De woestijnrovers"},{n:9,t:"Petroleumgangsters"},{n:10,t:"Testpiloten"},
{n:11,t:"In Korea"},{n:12,t:"Onbemande vliegtuigen"},{n:13,t:"Een vliegtuig wordt vermist"},{n:14,t:"Patroelje bij dageraad"},{n:15,t:"NC22654 antwoordt niet meer"},{n:16,t:"Gevaar in het Noorden"},{n:17,t:"Buck Danny tegen Lady X"},{n:18,t:"Aanval op Malakka"},{n:19,t:"De tijger van Malakka"},{n:20,t:"S.O.S. vliegende schotels"},
{n:21,t:"Een prototype is verdwenen"},{n:22,t:"Geheime opdracht"},{n:23,t:"Vlucht naar de verloren vallei"},{n:24,t:"Proefmodel FX 13"},{n:25,t:"Het ZZ eskader"},{n:26,t:"De Vliegende Tijgers komen terug"},{n:27,t:"De Vliegende Tijgers schieten te hulp"},{n:28,t:"Vliegende Tijgers tegen piraten"},{n:29,t:"Operatie Mercury"},{n:30,t:"De satellietdieven"},
{n:31,t:"X-15"},{n:32,t:"Alarm te Cape Kennedy"},{n:33,t:"Het geheim van de spookvliegtuigen"},{n:34,t:"Atoomalarm"},{n:35,t:"Het dodenescadrille"},{n:36,t:"De blauwe engelen"},{n:37,t:"De piloot met het leren masker"},{n:38,t:"Het dodelijke groene dal"},{n:39,t:"Haaien in de Chinese Zee"},{n:40,t:"Ghost Queen"},
{n:41,t:"Operatie Apocalypsis"},{n:42,t:"De Helle-piloten"},{n:43,t:"Vuur uit de hemel"},{n:44,t:"De deserteur"},{n:45,t:"De geheimen van de Zwarte Zee"},{n:46,t:"Het spooksquadron"},{n:47,t:"Verboden gebied"},{n:48,t:"Strijd boven de bergen"},{n:49,t:"De nacht van de slang"},{n:50,t:"Sabotage in Texas"},
{n:51,t:"Mysterie in Antarctica"},{n:52,t:"Vermist"},{n:53,t:"Zwarte Cobra"},{n:54,t:"Een schaduw in de nacht"},{n:55,t:"Defcon One"},{n:56,t:"Vostok antwoordt niet meer"},{n:57,t:"Operatie vektor"}
],
"Guus Slim": [
{n:1,t:"Vlinder neemt de vlucht"},{n:2,t:"PopaÃ¯ne en oude kunst"},{n:3,t:"De verdronken wagen"},{n:4,t:"Vrachtboten in de avond"},
{n:5,t:"De hel van Texiguay"},{n:6,t:"Bomaanslag in de bergen"},{n:7,t:"De rode paters"},{n:8,t:"De drie vlekken"},
{n:9,t:"Drie vingers"},{n:10,t:"De scooterchinees"},{n:11,t:"Warm en koud + De windmaker"},
{n:12,t:"De springbeesten + Oorlog in hemdje + De achtervolging"},{n:13,t:"18-karaats werk"},
{n:14,t:"Guus Slim en de spoken"},{n:15,t:"Een luizige langspeler"},{n:16,t:"Tussen wal en schip"}
],
"Kuifje": [
{n:1,t:"Kuifje in het land van de Sovjets"},{n:2,t:"Kuifje in Afrika"},{n:3,t:"Kuifje in Amerika"},
{n:4,t:"De sigaren van de farao"},{n:5,t:"De Blauwe Lotus"},{n:6,t:"Het gebroken oor"},
{n:7,t:"De zwarte rotsen"},{n:8,t:"De scepter van Ottokar"},{n:9,t:"De krab met de gulden scharen"},
{n:10,t:"De geheimzinnige ster"},{n:11,t:"Het geheim van de Eenhoorn"},{n:12,t:"De schat van Scharlaken Rackham"},
{n:13,t:"De 7 kristallen bollen"},{n:14,t:"De zonnetempel"},{n:15,t:"Kuifje in het land van het zwarte goud"},
{n:16,t:"Raket naar de maan"},{n:17,t:"Mannen op de maan"},{n:18,t:"De zaak Zonnebloem"},
{n:19,t:"Cokes in voorraad"},{n:20,t:"Kuifje in Tibet"},{n:21,t:"De juwelen van Bianca Castafiore"},
{n:22,t:"Vlucht 714"},{n:23,t:"Kuifje en de Picaro's"},{n:24,t:"Kuifje en de Alfa-kunst"}
],
"Lucky Luke": [
{n:1,t:"Dick Diggers goudmijn"},{n:2,t:"Rodeo"},{n:3,t:"Arizona"},{n:4,t:"Avonturen in het westen"},{n:5,t:"Lucky Luke tegen Pat Poker"},
{n:6,t:"Vogelvrij"},{n:7,t:"Dr. Doxey's elixer"},{n:8,t:"Phil IJzerdraad"},{n:9,t:"De spoorweg door de prairie"},{n:10,t:"Blauwvoeten op het oorlogspad"},
{n:11,t:"De bende van Joss Jamon"},{n:12,t:"De neven Dalton"},{n:13,t:"De rechter"},{n:14,t:"De trek naar Oklahoma"},{n:15,t:"De Daltons breken uit"},
{n:16,t:"Bootrace op de Mississippi"},{n:17,t:"In het spoor van de Daltons"},{n:18,t:"In de schaduw der boortorens"},{n:19,t:"Naijver in Painful Gulch"},{n:20,t:"Billy the Kid"},
{n:21,t:"De Zwarte Heuvels"},{n:22,t:"De Daltons in de blizzard"},{n:23,t:"De Daltons op vrije voeten"},{n:24,t:"De karavaan"},{n:25,t:"De spookstad"},
{n:26,t:"De Daltons kopen zich vrij"},{n:27,t:"Het 20ste Cavalerie"},{n:28,t:"Het escorte"},{n:29,t:"Prikkeldraad in de prairie"},{n:30,t:"Calamity Jane"},
{n:31,t:"Tortilla's voor de Daltons"},{n:32,t:"De postkoets"},{n:33,t:"Tenderfoot"},{n:34,t:"Dalton City"},{n:35,t:"Jesse James"},
{n:36,t:"Western Circus"},{n:37,t:"Apache Canyon"},{n:38,t:"Ma Dalton"},{n:39,t:"De rijstoorlog"},{n:40,t:"De premiejager"},
{n:41,t:"De Grootvorst"},{n:42,t:"De witte ridder"},{n:43,t:"De erfenis van Rataplan"},{n:44,t:"De genezing van de Daltons"},{n:45,t:"Zijne keizerlijke hoogheid Smith"},
{n:46,t:"De zingende draad"},{n:47,t:"Zeven korte verhalen"},{n:48,t:"De schat van de Daltons"},{n:49,t:"De ballade van de Daltons"},{n:50,t:"De eenarmige bandiet"},
{n:51,t:"Sarah Bernhardt"},{n:52,t:"De strop van de gehangene"},{n:53,t:"Daisy Town"},{n:54,t:"Fingers"},{n:55,t:"The Daily Star"},
{n:56,t:"De verloofde van Lucky Luke"},{n:57,t:"Nitroglycerine"},{n:58,t:"De duivelsranch"},{n:59,t:"Het alibi"},{n:60,t:"De Pony Express"},
{n:61,t:"De Daltons verliezen hun geheugen"},{n:62,t:"Spokenjacht"},{n:63,t:"De Daltons op de bruiloft"},{n:64,t:"De brug over de Mississippi"},{n:65,t:"Kid Lucky"},
{n:66,t:"Belle Starr"},{n:67,t:"Klondike"},{n:68,t:"O.K. Corral"},{n:69,t:"Oklahoma Jim"},{n:70,t:"Marcel Dalton"},
{n:71,t:"De profeet"},{n:72,t:"De kunstschilder"},{n:73,t:"De legende van het westen"}
],
"Robbedoes en Kwabbernoot": [
{n:1,t:"4 avonturen van Robbedoes (... en Kwabbernoot)"},{n:2,t:"Er is een tovenaar in Rommelgem"},{n:3,t:"De zwarte hoeden"},{n:4,t:"Robbedoes en de erfgenamen"},
{n:5,t:"De roof van de Marsupilami"},{n:6,t:"De hoorn van de neushoorn"},{n:7,t:"De dictator en de paddestoel"},{n:8,t:"Pas op, Kwabbernoot!"},
{n:9,t:"Het schuilhol van het zeemonster"},{n:10,t:"Het masker der stilte"},{n:11,t:"De gorilla heeft het gedaan"},{n:12,t:"Het nest van de Marsupilami's"},
{n:13,t:"De bezoeker uit de oertijd"},{n:14,t:"De gevangene van Boeddha"},{n:15,t:"Z van Zwendel"},{n:16,t:"De schaduw van Z"},
{n:17,t:"Robbedoes en de bobbelmannen"},{n:18,t:"QRN op Bretzelburg"},{n:19,t:"Hommeles in Rommelgem"},{n:20,t:"De Goudmaker"},
{n:21,t:"Klontjes voor Doebie"},{n:22,t:"Het fopklooster"},{n:23,t:"Tora-Torapa"},{n:24,t:"Tembo Taboe"},
{n:25,t:"De amulet van Niokolo-Koba"},{n:26,t:"Cider voor de sterren"},{n:27,t:"De doodsman"},{n:28,t:"Kodo, de tiran"},
{n:29,t:"Geld, smiechten en smokkel"},{n:30,t:"De koudegordel"},{n:31,t:"De zwarte doos"},{n:32,t:"De stiltemakers"},
{n:33,t:"Virus"},{n:34,t:"Avontuur in AustraliÃ«"},{n:35,t:"Malle Marilyn"},{n:36,t:"De komeet van de tijd"},
{n:37,t:"De terugkeer van Z"},{n:38,t:"De jeugd van Robbedoes"},{n:39,t:"Robbedoes in New York"},{n:40,t:"Paniek in Khoudistan"},
{n:41,t:"De vallei der bannelingen"},{n:42,t:"Robbedoes in Moskou"},{n:43,t:"Mafia, spaghetti en pinda's"},{n:44,t:"De aanslag"},
{n:45,t:"Luna Fatale"},{n:46,t:"Als in een droom"},{n:47,t:"Parijs onder de Seine"},{n:48,t:"De gezant van de schaduwen"},
{n:49,t:"Robbedoes en Kwabbernoot in Tokio"},{n:50,t:"Terug naar Z"},{n:51,t:"In de klauwen van de Viper"},{n:52,t:"De piccolo van Sniper Alley"},
{n:53,t:"In het spoor van de Marsupilami"},{n:54,t:"De dagboeken van Robbedoes"},{n:55,t:"De terugkeer van de Marsupilami"},{n:56,t:"De dood van Robbedoes"}
],
"Suske en Wiske": [
{n:67,t:"De poenschepper"},{n:68,t:"Het eiland Amoras"},{n:69,t:"De nerveuze NerviÃ«rs"},{n:70,t:"De spokenjagers"},{n:71,t:"Wattman"},{n:72,t:"Jeromba de Griek"},{n:73,t:"Het zoemende ei"},{n:74,t:"De koddige kater"},{n:75,t:"Het mini-mierennest"},{n:76,t:"De ijzeren schelvis"},{n:77,t:"De apekermis"},{n:78,t:"De dulle griet"},{n:79,t:"De zeven snaren"},{n:80,t:"De brullende berg"},{n:81,t:"De circusbaron"},{n:82,t:"De gramme huurling"},{n:83,t:"De straatridder"},{n:84,t:"De stemmenrover"},{n:85,t:"De schone slaper"},{n:86,t:"Tedere Tronica"},{n:87,t:"De vliegende aap"},{n:88,t:"De tamtamkloppers"},{n:89,t:"De dolle musketiers"},{n:90,t:"Sjeik El Rojenbiet"},
{n:91,t:"De speelgoedzaaier"},{n:92,t:"De briesende bruid"},{n:93,t:"De snorrende snor"},{n:94,t:"De sissende sampan"},{n:95,t:"De kleppende klipper"},{n:96,t:"Het rijmende paard"},{n:97,t:"De junglebloem"},{n:98,t:"Het hondenparadijs"},{n:99,t:"De kwakstralen"},{n:100,t:"Het gouden paard"},{n:101,t:"De kaartendans"},{n:102,t:"De dromendiefstal"},{n:103,t:"De klankentapper"},{n:104,t:"De wilde weldoener"},{n:105,t:"De koning drinkt"},{n:106,t:"De charmante koffiepot"},{n:107,t:"De sprietatoom"},{n:108,t:"Twee toffe totems"},{n:109,t:"De wolkeneters"},{n:110,t:"De zingende zwammen"},
{n:111,t:"De schat van Beersel"},{n:112,t:"De groene splinter"},{n:113,t:"Het geheim van de gladiatoren"},{n:114,t:"De Tartaarse helm"},{n:115,t:"De gezanten van Mars"},{n:116,t:"De bronzen sleutel"},{n:117,t:"De toornige tjiftjaf"},{n:118,t:"De gouden cirkel"},{n:119,t:"Het sprekende testament"},{n:120,t:"De geverniste zeerovers"},{n:121,t:"De duistere diamant"},{n:122,t:"De kale kapper"},{n:123,t:"De zwarte zwaan"},{n:124,t:"Het vliegende bed"},{n:125,t:"De Texasrakkers"},{n:126,t:"De windmakers"},{n:127,t:"De knokkersburcht"},{n:128,t:"Het brommende brons"},{n:129,t:"Prinses Zagemeel"},{n:130,t:"De steensnoepers"},
{n:131,t:"Het zingende nijlpaard"},{n:132,t:"De stierentemmer"},{n:133,t:"De tuf-tuf-club"},{n:134,t:"De witte uil"},{n:135,t:"De gekke gokker"},{n:136,t:"De bokkerijders"},{n:137,t:"De ringelingschat"},{n:138,t:"Bibbergoud"},{n:139,t:"De boze boomzalver"},{n:140,t:"De zwarte madam"},{n:141,t:"Het bevroren vuur"},{n:142,t:"De mottenvanger"},{n:143,t:"De malle mergpijp"},{n:144,t:"Lambiorix"},{n:145,t:"De stalen bloempot"},{n:146,t:"De sterrenplukkers"},{n:147,t:"De poppenpakker"},{n:148,t:"De lachende wolf"},{n:149,t:"De gladde glipper"},{n:150,t:"Het Spaanse spook"},
{n:151,t:"Het ros Bazhaar"},{n:152,t:"De bevende Baobab"},{n:153,t:"De nare varaan"},{n:154,t:"Rikki en Wiske in Chocowakije"},{n:155,t:"De poezelige poes"},{n:156,t:"Beminde Barabas"},{n:157,t:"De mollige meivis"},{n:158,t:"De vinnige viking"},{n:159,t:"De minilotten van Kokonera"},{n:160,t:"De bokkige bombardon"},{n:161,t:"De blinkende boemerang"},{n:162,t:"De gouden locomotief"},{n:163,t:"De vlijtige vlinder"},{n:164,t:"De raap van Rubens"},{n:165,t:"De sputterende spuiter"},{n:166,t:"De maffe maniak"},{n:167,t:"De zingende kaars"},{n:168,t:"De Efteling-elfjes"},{n:169,t:"De amoureuze amazone"},{n:170,t:"De olijke olifant"},
{n:171,t:"Walli de walvis"},{n:172,t:"Het laatste dwaallicht"},{n:173,t:"Het drijvende dorp"},{n:174,t:"Het statige standbeeld"},{n:175,t:"De kadulle Cupido"},{n:176,t:"De pompenplanters"},{n:177,t:"De adellijke ark"},{n:178,t:"De stoute steenezel"},{n:179,t:"De windbrekers"},{n:180,t:"Het kregelige ketje"},{n:181,t:"De perenprins"},{n:182,t:"De koperen knullen"},{n:183,t:"De toffe tamboer"},{n:184,t:"De Regenboogprinses"},{n:185,t:"De botte botaknol"},{n:186,t:"De rosse reus"},{n:187,t:"De droevige duif"},{n:188,t:"De snoezige Snowijt"},{n:189,t:"De belhamel-bende"},{n:190,t:"De woelige wadden"},
{n:191,t:"De vergeten vallei"},{n:192,t:"Het Bretoense broertje"},{n:193,t:"Hippus het zeeveulen"},{n:194,t:"De gouden ganzeveer"},{n:195,t:"De hippe heksen"},{n:196,t:"De natte Navajo"},{n:197,t:"Het Delta-duel"},{n:198,t:"De lieve Lilleham"},{n:199,t:"De tamme tumi"},{n:200,t:"Amoris van Amoras"},{n:201,t:"Het dreigende dinges"},{n:202,t:"Angst op de Amsterdam"},{n:203,t:"De ruige regen"},{n:204,t:"De mooie millirem"},{n:205,t:"De kattige kat"},{n:206,t:"De bonkige baarden"},{n:207,t:"De glanzende gletsjer"},{n:208,t:"De hellegathonden"},{n:209,t:"De kwaaie kwieten"},{n:210,t:"De jolige joffer"},
{n:211,t:"De woeste wespen"},{n:212,t:"De edele elfen"},{n:213,t:"De eenzame eenhoorn"},{n:214,t:"De parel in de lotusbloem"},{n:215,t:"De Krimson-crisis"},{n:216,t:"De wervelende waterzak"},{n:217,t:"De komieke Coco"},{n:218,t:"De krachtige krans"},{n:219,t:"De speelgoedspiegel"},{n:220,t:"Sagarmatha"},{n:221,t:"De rinoramp"},{n:222,t:"De bezeten bezitter"},{n:223,t:"De kleurenkladder"},{n:224,t:"De kleine postruiter"},{n:225,t:"De goalgetter"},{n:226,t:"De mysterieuze mijn"},{n:227,t:"Het witte wief"},{n:228,t:"Het wondere Wolfje"},{n:229,t:"Tazuur en Tazijn"},{n:230,t:"Lambik Baba"},
{n:231,t:"De scherpe schorpioen"},{n:232,t:"De tootootjes"},{n:233,t:"De klinkende klokken"},{n:234,t:"Het kristallen kasteel"},{n:235,t:"De krakende carcas"},{n:236,t:"De gulden harpoen"},{n:237,t:"De snikkende sirene"},{n:238,t:"De slimme slapjanus"},{n:239,t:"De stervende ster"},{n:240,t:"De pottenproever"},{n:241,t:"Het Aruba-dossier"},{n:242,t:"Tokapua Toraja"},{n:243,t:"De averechtse aap"},{n:244,t:"De begeerde berg"},{n:245,t:"De 7 Schaken"},{n:246,t:"De vonkende vuurman"},{n:247,t:"Het kostbare kader"},{n:248,t:"Robotkop"},{n:249,t:"De razende race"},{n:250,t:"Het Grote Gat"},
{n:251,t:"De verraderlijke Vinson"},{n:252,t:"Volle maan"},{n:253,t:"Prachtige Pjotr"},{n:254,t:"Tex en Terry"},{n:255,t:"De mompelende mummie"},{n:256,t:"De vogels der goden"},{n:257,t:"De rebelse Reinaert"},{n:258,t:"De gevederde slang"},{n:259,t:"Amber"},{n:260,t:"De bonte bollen"},{n:261,t:"Het berenbeklag"},{n:262,t:"Het enge eiland"},{n:263,t:"Het verdronken land"},{n:264,t:"Jeanne Panne"},{n:265,t:"Papa Razzi"},{n:266,t:"De kernmonsters"},{n:267,t:"Lilli Natal"},{n:268,t:"De koeiencommissie"},{n:269,t:"De stugge Stuyvesant"},{n:270,t:"De ongelooflijke Thomas"},
{n:271,t:"Big Mother"},{n:272,t:"De blote Belg"},{n:273,t:"De europummel"},{n:274,t:"De fleurige Floriade"},{n:275,t:"Heilig bloed"},{n:276,t:"In de ban van de Milt"},{n:277,t:"De verdwenen verteller"},{n:278,t:"De kunstkraker"},{n:279,t:"De laatste vloek"},{n:280,t:"De kus van Odfella"},{n:281,t:"De gevangene van Prisonov"},{n:282,t:"De breinbrekers"},{n:283,t:"Paniek in Palermo"},{n:284,t:"Kaapse kaalkoppen"},{n:285,t:"Verraad op de Veluwe"},{n:286,t:"De flierende fluiter"},{n:287,t:"De formidabele fantast"},{n:288,t:"Het slapende goud"},{n:289,t:"De kaduke klonen"},{n:290,t:"De blikken blutser"},
{n:291,t:"De bangeschieters"},{n:292,t:"De nachtwachtbrigade"},{n:293,t:"De kaperkoters"},{n:294,t:"De tikkende tinkan"},{n:295,t:"De krasse kroko"},{n:296,t:"De curieuze neuzen"},{n:297,t:"De joviale Gille"},{n:298,t:"De elfstedenstunt"},{n:299,t:"Het babbelende bad"},{n:300,t:"Het machtige monument"}
]
};



let statuses = {};
let currentSeries = Object.keys(SERIES)[0];

const tabsEl = document.getElementById('tabs');
const gridEl = document.getElementById('grid');
const statsEl = document.getElementById('stats');
const fillEl = document.getElementById('progressFill');
const searchEl = document.getElementById('search');

// Load statuses
fetch('/api/status').then(r=>r.json()).then(d=>{statuses=d;renderTabs();selectSeries(currentSeries)});

function renderTabs(){
  tabsEl.innerHTML='';
  for(const s of Object.keys(SERIES)){
    const b=document.createElement('button');
    b.textContent=s;
    b.onclick=()=>selectSeries(s);
    tabsEl.appendChild(b);
  }
}

function selectSeries(s){
  currentSeries=s;
  searchEl.value='';
  document.querySelectorAll('.tabs button').forEach((b,i)=>b.classList.toggle('active',Object.keys(SERIES)[i]===s));
  renderGrid();
}

function renderGrid(filter=''){
  const albums=SERIES[currentSeries];
  const ss=statuses[currentSeries]||{};
  const f=filter.toLowerCase();
  const filtered=albums.filter(a=> !f || a.t.toLowerCase().includes(f) || String(a.n).includes(f));

  const owned=albums.filter(a=>ss[a.n]==='owned').length;
  const wanted=albums.filter(a=>ss[a.n]==='wanted').length;
  const total=albums.length;
  const pct=total?Math.round(owned/total*100):0;

  statsEl.innerHTML=`
    <span><span class="dot" style="background:var(--owned)"></span> Owned: ${owned}</span>
    <span><span class="dot" style="background:var(--wanted)"></span> Wanted: ${wanted}</span>
    <span>Total: ${total} (${pct}%)</span>`;
  fillEl.style.width=pct+'%';
  fillEl.style.background=pct>80?'var(--owned)':pct>40?'var(--wanted)':'#e57373';

  gridEl.innerHTML='';
  for(const a of filtered){
    const status=ss[a.n]||'';
    const div=document.createElement('div');
    div.className='album';
    const color = colorHash(currentSeries);
    const slug = currentSeries.toLowerCase().replace(/\s+/g, '-');
    const coverImg = `/covers/${slug}-${a.n}.jpg`;
    div.innerHTML=`
      ${status?`<div class="badge ${status}">${status==='owned'?'âœ“':'â˜…'}</div>`:''}
      <div class="cover" style="background:${color};display:flex;align-items:center;justify-content:center">
        <img src="${coverImg}" alt="${a.t}" onerror="this.style.display='none'"/>
        <span class="fallback" style="color:rgba(255,255,255,.8);font-size:2rem;font-weight:700;display:flex">${a.n}</span>
      </div>
      <div class="info">
        <div class="num">#${a.n}</div>
        <div class="title">${a.t}</div>
      </div>
      <div class="menu">
        <button class="btn-owned" onclick="setStatus(${a.n},'owned',event)">âœ“ Owned</button>
        <button class="btn-wanted" onclick="setStatus(${a.n},'wanted',event)">â˜… Wanted</button>
        <button class="btn-clear" onclick="setStatus(${a.n},null,event)">âœ• Clear</button>
      </div>`;
    div.onclick=(e)=>{if(!e.target.closest('.menu button'))div.classList.toggle('showmenu')};
    gridEl.appendChild(div);
  }
}

function colorHash(s){
  const colors=['#5c6bc0','#ef5350','#26a69a','#ff7043','#ab47bc','#42a5f5'];
  let h=0;for(let i=0;i<s.length;i++)h=s.charCodeAt(i)+((h<<5)-h);
  return colors[Math.abs(h)%colors.length];
}

function setStatus(n,status,e){
  e.stopPropagation();
  if(!statuses[currentSeries])statuses[currentSeries]={};
  if(status)statuses[currentSeries][n]=status;
  else delete statuses[currentSeries][n];
  fetch('/api/status',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({series:currentSeries,album:n,status})});
  renderGrid(searchEl.value);
}

searchEl.addEventListener('input',()=>renderGrid(searchEl.value));
</script>
</body>
</html>
